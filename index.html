<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RedesIA Pro - Inteligência Artificial para Redes</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/cytoscape@3.28.1/dist/cytoscape.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.0/dist/mermaid.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked@4.0.0/lib/marked.umd.min.js"></script>
  <style>
    .loader-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #1a1a1a;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }
    .loader-container.hidden {
      opacity: 0;
      pointer-events: none;
    }
    #particles-js {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
    }
    .spinner {
      width: 50px;
      height: 50px;
      border: 5px solid rgba(255, 255, 255, 0.3);
      border-top: 5px solid #ffffff;
      border-radius: 50%;
      animation: spin 2s ease-in-out infinite;
      margin-bottom: 20px;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .loader-image {
      max-width: 300px;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <div class="loader-container" id="loader">
    <div id="particles-js"></div>
    <img src="logo.png" alt="Logo" class="loader-image">
    <div class="spinner"></div>
  </div>

  <div class="app-container">
    <aside class="sidebar">
      <div class="logo">
        <i class="fas fa-project-diagram"></i>
        <h1>Redes <span>Yag</span></h1>
      </div>
      <nav>
        <button class="nav-btn active" data-target="chat"><i class="fas fa-comments"></i> Chat IA</button>
        <button class="nav-btn" data-target="simulation"><i class="fas fa-network-wired"></i> Simulação</button>
        <button class="nav-btn" data-target="diagrams"><i class="fas fa-diagram-project"></i> Diagramas</button>
        <button class="nav-btn" data-target="tools"><i class="fas fa-tools"></i> Ferramentas</button>
        <button class="nav-btn" data-target="rfc"><i class="fas fa-book"></i> Consultar RFC</button>
      </nav>
      <div class="status">
        <div class="status-indicator online"></div>
        <span>IA Online - YAG</span>
      </div>
      <div class="sidebar-footer">
        <div class="model-info">
          <span>Modelo Atual:</span>
          <strong>Gemini 1.5 Flash</strong>
        </div>
        <button id="clear-chat" class="clear-btn"><i class="fas fa-trash"></i> Limpar Chat</button>
      </div>
    </aside>
    <main class="main-content">
      <section id="chat-section" class="content-section active">
        <header class="section-header">
          <h2><i class="fas fa-robot"></i> Assistente IA de Redes</h2>
          <div class="header-actions">
            <button class="btn export-btn" id="export-chat"><i class="fas fa-file-export"></i> Exportar</button>
            <button class="btn voice-btn" id="voice-toggle"><i class="fas fa-microphone"></i></button>
          </div>
        </header>
        <div class="chat-container" id="chat-container">
          <div class="message bot">
            <div class="message-header">
              <i class="fas fa-robot"></i> RedesIA Pro
              <span class="timestamp" id="initial-timestamp"></span>
            </div>
            <div class="message-content">
              <p>Olá! Sou seu especialista em redes de computadores. Posso ajudar com:</p>
              <ul>
                <li>Explicação de protocolos (TCP/IP, BGP, OSPF, MPLS)</li>
                <li>Diagnóstico de problemas de rede</li>
                <li>Criação de diagramas de topologia</li>
                <li>Simulações de tráfego de rede</li>
                <li>Consultas a RFCs e padrões técnicos</li>
                <li>Configuração de dispositivos (Cisco, Juniper, etc.)</li>
              </ul>
              <p><strong>Exemplo de comando:</strong> "Explique o handshake TCP com diagrama"</p>
              <p><span style="background: rgba(245,158,11,0.2); padding: 8px 15px; border-radius: 20px; display: inline-block; margin-top: 10px; border: 1px solid var(--warning);">
                <i class="fas fa-info-circle"></i> Servidor rodando na porta 5500 - acesse em http://localhost:5500
              </span></p>
            </div>
          </div>
        </div>
        <div class="chat-input">
          <div class="input-wrapper">
            <textarea id="user-input" placeholder="Digite sua pergunta sobre redes..." rows="1"></textarea>
            <button id="send-btn" class="send-btn"><i class="fas fa-paper-plane"></i></button>
          </div>
          <div class="suggestions">
            <span class="suggestion-tag" data-command="Explique o modelo OSI com diagrama">Modelo OSI</span>
            <span class="suggestion-tag" data-command="Como funciona o NAT?">NAT</span>
            <span class="suggestion-tag" data-command="Simule uma topologia de rede corporativa">Simular topologia</span>
            <span class="suggestion-tag" data-command="RFC 791">RFC 791</span>
          </div>
        </div>
      </section>
      <section id="simulation-section" class="content-section">
        <header class="section-header">
          <h2><i class="fas fa-network-wired"></i> Simulador de Rede em Tempo Real</h2>
          <div class="header-actions">
            <select id="topology-type">
              <option value="star">Topologia em Estrela</option>
              <option value="mesh">Malha Completa</option>
              <option value="ring">Anel</option>
              <option value="bus">Barramento</option>
            </select>
            <button class="btn" id="run-simulation"><i class="fas fa-play"></i> Executar Simulação</button>
          </div>
        </header>
        <div class="simulation-container">
          <div class="simulation-canvas" id="network-simulation"></div>
          <div class="simulation-stats">
            <div class="stat-card"><h3><i class="fas fa-database"></i> Pacotes</h3><div class="stat-value" id="packet-count">0</div></div>
            <div class="stat-card"><h3><i class="fas fa-tachometer-alt"></i> Latência</h3><div class="stat-value" id="latency">0 ms</div></div>
            <div class="stat-card"><h3><i class="fas fa-exclamation-triangle"></i> Erros</h3><div class="stat-value" id="error-count">0</div></div>
            <div class="stat-card"><h3><i class="fas fa-wifi"></i> Throughput</h3><div class="stat-value" id="throughput">0 Mbps</div></div>
          </div>
          <div class="simulation-controls">
            <button class="btn" id="add-device"><i class="fas fa-plus"></i> Adicionar Dispositivo</button>
            <button class="btn" id="reset-simulation"><i class="fas fa-redo"></i> Reiniciar</button>
          </div>
        </div>
      </section>
      <section id="diagrams-section" class="content-section">
        <header class="section-header">
          <h2><i class="fas fa-diagram-project"></i> Gerador de Diagramas de Rede</h2>
          <div class="header-actions">
            <button class="btn" id="generate-diagram"><i class="fas fa-magic"></i> Gerar Diagrama</button>
          </div>
        </header>
        <div class="diagram-container">
          <div class="diagram-options">
            <div class="option-group">
              <label>Tipo de Diagrama:</label>
              <select id="diagram-type">
                <option value="topology">Topologia de Rede</option>
                <option value="osi">Modelo OSI</option>
                <option value="tcp">Handshake TCP</option>
                <option value="vlan">Configuração VLAN</option>
              </select>
            </div>
            <div class="option-group">
              <label>Dispositivos:</label>
              <div class="device-tags">
                <span class="device-tag active" data-device="router">Roteador</span>
                <span class="device-tag" data-device="switch">Switch</span>
                <span class="device-tag" data-device="pc">PC</span>
                <span class="device-tag" data-device="server">Servidor</span>
                <span class="device-tag" data-device="firewall">Firewall</span>
              </div>
            </div>
          </div>
          <div class="diagram-preview">
            <pre class="mermaid" id="diagram-preview">
graph LR
  A[Internet] --> B[Firewall]
  B --> C[Router Core]
  C --> D[Switch de Acesso]
  D --> E[PC 1]
  D --> F[PC 2]
  D --> G[Servidor]
  
  style A fill:#ef4444,stroke:#b91c1c
  style B fill:#f59e0b,stroke:#b45309
  style G fill:#10b981,stroke:#059669
            </pre>
          </div>
          <div class="diagram-actions">
            <button class="btn" id="download-diagram"><i class="fas fa-download"></i> Baixar SVG</button>
            <button class="btn" id="copy-diagram"><i class="fas fa-copy"></i> Copiar Código</button>
          </div>
        </div>
      </section>
      <section id="tools-section" class="content-section">
        <header class="section-header">
          <h2><i class="fas fa-tools"></i> Ferramentas de Rede</h2>
          <div class="header-actions">
            <select id="tool-selector">
              <option value="subnet">Calculadora de Sub-rede</option>
              <option value="port">Scanner de Portas</option>
              <option value="trace">Traceroute Visual</option>
            </select>
          </div>
        </header>
        <div class="tools-container">
          <div class="tool active" id="subnet-tool">
            <h3><i class="fas fa-calculator"></i> Calculadora de Sub-rede</h3>
            <div class="tool-inputs">
              <input type="text" id="ip-address" placeholder="Endereço IP (ex: 192.168.1.0)" class="tool-input">
              <input type="text" id="subnet-mask" placeholder="Máscara de Rede (ex: 255.255.255.0)" class="tool-input">
              <button class="btn" id="calculate-subnet"><i class="fas fa-equals"></i> Calcular</button>
            </div>
            <div class="tool-result" id="subnet-result"></div>
          </div>
          <div class="tool" id="port-tool" style="display:none;">
            <h3><i class="fas fa-door-open"></i> Scanner de Portas</h3>
            <div class="tool-inputs">
              <input type="text" id="target-host" placeholder="Host alvo (ex: 192.168.1.1)" class="tool-input">
              <div class="port-range">
                <input type="number" id="start-port" placeholder="Porta inicial" min="1" max="65535" value="1">
                <span>-</span>
                <input type="number" id="end-port" placeholder="Porta final" min="1" max="65535" value="1024">
              </div>
              <button class="btn" id="scan-ports"><i class="fas fa-search"></i> Escanear</button>
            </div>
            <div class="tool-result" id="port-result"></div>
          </div>
          <div class="tool" id="trace-tool" style="display:none;">
            <h3><i class="fas fa-route"></i> Traceroute Visual</h3>
            <div class="tool-inputs">
              <input type="text" id="trace-host" placeholder="Host alvo (ex: google.com)" class="tool-input">
              <button class="btn" id="run-trace"><i class="fas fa-play"></i> Executar</button>
            </div>
            <div class="tool-result" id="trace-result"></div>
          </div>
        </div>
      </section>
      <section id="rfc-section" class="content-section">
        <header class="section-header">
          <h2><i class="fas fa-book"></i> Consulta de RFCs</h2>
          <div class="header-actions">
            <input type="number" id="rfc-number" placeholder="Número do RFC" min="1" max="9999" class="rfc-input">
            <button class="btn" id="search-rfc"><i class="fas fa-search"></i> Buscar</button>
          </div>
        </header>
        <div class="rfc-container">
          <div class="rfc-preview">
            <div class="rfc-header">
              <h3 id="rfc-title">RFC 791 - Internet Protocol</h3>
              <a id="rfc-link" href="https://www.rfc-editor.org/rfc/rfc791.html" target="_blank" class="rfc-url">
                <i class="fas fa-external-link-alt"></i> Acessar documento completo
              </a>
            </div>
            <div class="rfc-content" id="rfc-content">
              <p>O Internet Protocol (IP) é o principal protocolo de comunicação na Internet e em redes de computadores. Ele especifica a forma de endereçamento e fragmentação de datagramas para permitir a comunicação entre redes heterogêneas.</p>
              <p>Este RFC define as especificações do protocolo IP versão 4 (IPv4), incluindo formato de datagrama, endereçamento, fragmentação e reassembleia.</p>
              <h4>Principais Características:</h4>
              <ul>
                <li>Protocolo de melhor esforço (best-effort)</li>
                <li>Sem conexão (connectionless)</li>
                <li>Sem garantia de entrega</li>
                <li>Endereçamento hierárquico de 32 bits</li>
              </ul>
            </div>
          </div>
          <div class="rfc-related">
            <h4>Outros RFCs Relacionados:</h4>
            <ul>
              <li><a href="#" data-rfc="792">RFC 792 - ICMP</a></li>
              <li><a href="#" data-rfc="793">RFC 793 - TCP</a></li>
              <li><a href="#" data-rfc="2460">RFC 2460 - IPv6</a></li>
              <li><a href="#" data-rfc="2616">RFC 2616 - HTTP/1.1</a></li>
            </ul>
          </div>
        </div>
      </section>
    </main>
  </div>
  <script src="script.js"></script>
  <script>
    document.getElementById('initial-timestamp').textContent = new Date().toLocaleTimeString();
    particlesJS('particles-js', {
      particles: { number: { value: 80, density: { enable: true, value_area: 800 } }, color: { value: "#ffffff" }, shape: { type: "circle", stroke: { width: 0, color: "#000000" }, polygon: { nb_sides: 5 } }, opacity: { value: 0.5, random: false, anim: { enable: true, speed: 1, opacity_min: 0.1, sync: false } }, size: { value: 3, random: true, anim: { enable: true, speed: 10, size_min: 0.1, sync: false } }, line_linked: { enable: true, distance: 150, color: "#ffffff", opacity: 0.4, width: 1 }, move: { enable: true, speed: 3, direction: "none", random: false, straight: false, out_mode: "out", bounce: false, attract: { enable: false, rotateX: 600, rotateY: 1200 } } },
      interactivity: { detect_on: "canvas", events: { onhover: { enable: true, mode: "repulse" }, onclick: { enable: true, mode: "push" }, resize: true }, modes: { grab: { distance: 400, line_linked: { opacity: 1 } }, bubble: { distance: 400, size: 40, duration: 2, opacity: 8, speed: 3 }, repulse: { distance: 200, duration: 0.4 }, push: { particles_nb: 4 }, remove: { particles_nb: 2 } } },
      retina_detect: true
    });
    window.addEventListener('load', function() { setTimeout(function() { document.getElementById('loader').classList.add('hidden'); }, 2000); });
  </script>
</body>
</html>